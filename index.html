<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<!-- CSP for general functionality, allowing inline scripts/styles and common CDNs.
     NOTE: The original CSP was very broad (default-src * 'self' data: blob:;).
     This is slightly more specific but still permissive for a general example.
     For production, this should be locked down much further.
-->
<meta http-equiv="Content-Security-Policy" content="default-src 'self' data: blob: https://i.imgur.com https://placehold.co https://generativelanguage.googleapis.com; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://generativelanguage.googleapis.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob: https://i.imgur.com https://placehold.co; connect-src 'self' https://generativelanguage.googleapis.com;">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>UNI Enterprise | Data Distribution & Insights</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root {
    --primary-color: #2c84fa;
    --primary-gradient-end: #1c6fde;
    --dark-bg: #0d0d0d;
    --section-bg-simple-feature: #101113;
    --card-bg: #1a1a1a;
    --text-primary: #ffffff;
    --text-secondary: #e0e0e0; /* MODIFIED: Made grey text whiter (was #ccc) */
    --text-muted: #bcbcbc;    /* MODIFIED: Optionally make muted text lighter (was #aaa) */
    --border-color: #2a2a2e;
    --ease-out-cubic: cubic-bezier(0.215, 0.610, 0.355, 1);
}

body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: var(--dark-bg);
    color: var(--text-primary);
    overflow-x: hidden;
    scroll-behavior: smooth;
}

#particles-js {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: -1;
    background-color: var(--dark-bg);
}

/* Custom Scrollbar Styling */
body::-webkit-scrollbar { width: 10px; }
body::-webkit-scrollbar-track { background: var(--dark-bg); }
body::-webkit-scrollbar-thumb {
    background-color: var(--primary-color);
    border-radius: 20px;
    border: 2px solid var(--dark-bg);
}
body::-webkit-scrollbar-thumb:hover { background-color: #1c6fde; }


.container {
    text-align: center;
    padding: 4rem 1rem;
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
    position: relative;
    z-index: 1;
}
h1 { /* Main page H1 */
    font-size: 3.2rem;
    color: var(--primary-color);
    background: none;
    -webkit-text-fill-color: initial;
    margin-bottom: 1rem;
    font-weight: 700;
}
h1.animated-headline span.letter-span {
    display: inline-block;
    opacity: 0;
    transform: translateY(30px) rotate(5deg);
    animation: revealLetter 0.8s var(--ease-out-cubic) forwards;
}

@keyframes revealLetter {
    to { opacity: 1; transform: translateY(0) rotate(0deg); }
}

.slot-text-wrapper {
    display: inline-block;
    height: 1.2em;
    line-height: 1.2em;
    overflow: hidden;
    vertical-align: bottom;
    position: relative;
    color: var(--primary-color);
    opacity: 0;
    transform: translateY(30px) rotate(5deg);
}

.slot-text-inner-container {
    display: flex;
    flex-direction: column;
    transition: transform 0.7s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.slot-text-inner-container > div {
    height: 1.2em;
    line-height: 1.2em;
    white-space: nowrap;
}

h2 { /* General H2 for sections like "Ask UNI ATLAS", "How it Works" */
    font-size: 2.2rem;
    margin-bottom: 1.5rem;
    font-weight: 600;
}

.solutions-title { /* Specific H2 style for "Our Solutions" */
    font-size: 2.8rem;
    font-weight: 700;
    margin-top: 5rem;
    margin-bottom: 2.5rem;
    background: linear-gradient(to right, var(--primary-color), var(--primary-gradient-end));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-align: center;
}

p { /* General paragraph style for the main page */
    font-size: 1.125rem;
    max-width: 700px;
    margin: 0 auto 2rem;
    color: var(--text-secondary);
    line-height: 1.7;
}
.btn-primary {
    background: linear-gradient(to right, var(--primary-color), var(--primary-gradient-end));
    padding: 0.9rem 2.3rem;
    border: none;
    border-radius: 999px;
    color: white;
    font-weight: bold;
    font-size: 1rem;
    cursor: pointer;
    transition: background-position 0.3s ease, transform 0.2s ease-in-out, box-shadow 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.6rem;
    text-decoration: none;
    box-shadow: 0 5px 18px rgba(44, 132, 250, 0.25);
    background-size: 200% auto;
}
.btn-primary:hover {
    background-position: right center;
    transform: translateY(-3px) scale(1.03);
    box-shadow: 0 7px 22px rgba(44, 132, 250, 0.35);
}
.btn-primary.hero-btn {
    padding: 1rem 2.5rem;
    font-size: 1.1rem;
}
.btn-primary img {
    width: 20px;
    height: 20px;
}

.simple-feature-section {
    background-color: var(--section-bg-simple-feature);
    border-radius: 1rem;
    padding: 2.5rem 2rem;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    box-sizing: border-box;
    position: relative;
    z-index: 1;
}
.simple-feature-section:not(.carousel-item) {
    flex: 1 1 calc(50% - 2rem);
    max-width: 48%;
    min-width: 300px;
}
.simple-feature-section.standalone:not(.carousel-item) {
    margin: 2rem auto 0 auto;
    max-width: 500px;
    flex-basis: auto;
}
.simple-feature-section .feature-hero-image {
    width: 100%;
    height: 320px;
    object-fit: cover;
    border-radius: 0.75rem;
    margin-bottom: 1.5rem;
    margin-top: 1rem;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
}
.simple-feature-section h3 {
    font-size: 1.9rem;
    color: var(--text-primary);
    margin-bottom: 1rem;
}
.simple-feature-section p {
    font-size: 1rem;
    color: var(--text-secondary);
    max-width: 100%;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 2rem;
    line-height: 1.65;
    flex-grow: 1;
}
.simple-feature-section .btn-primary {
    margin-top: auto;
    padding: 0.8rem 2rem;
    font-size: 0.95rem;
}

.trusted-by-section {
    padding: 5rem 1rem;
    margin-top: 5rem;
    position: relative; z-index: 1;
}
.trusted-by-section h2 {
    color: var(--text-secondary); font-weight: 500; font-size: 1.8rem; margin-bottom: 3.5rem;
}
.trusted-logos-container {
    display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 3.5rem 4.5rem;
}
.trusted-logos-container img {
    height: 56px;
    max-width: 187px;
    filter: grayscale(100%) brightness(0.8) contrast(1.2); opacity: 0.65;
    transition: filter 0.4s var(--ease-out-cubic), opacity 0.4s var(--ease-out-cubic), transform 0.3s var(--ease-out-cubic);
}
.trusted-logos-container img:hover { filter: grayscale(0%) brightness(1) contrast(1); opacity: 1; transform: scale(1.1); }
.trusted-logos-container.is-visible img { opacity: 0; transform: translateY(20px); }

#logo-prominent-partner {
    height: 88px !important;
    max-width: 275px !important;
}
#logo-openai-custom {
    height: 70px !important;
    max-width: 220px !important;
}

.hero-content {
    max-width: 750px;
    margin: 0 auto;
    text-align: center;
    padding-top: 90px;
    transition: transform 0.1s ease-out;
    will-change: transform;
    position: relative; z-index: 1;
}
header {
    position: fixed; top: 0; left: 0; width: 100%;
    padding: 1rem 2rem 1rem 0.5rem; /* MODIFIED: Reduced left padding */
    z-index: 1000;
    display: flex; align-items: center; justify-content: space-between; box-sizing: border-box;
    background-color: rgba(10, 10, 12, 0.6);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 2px 10px rgba(0,0,0,0.15);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}
header img.logo { height: 40px; filter: brightness(0) invert(1); }
header nav { display: flex; align-items: center; gap: 1.5rem; }
header nav a {
    color: white; text-decoration: none; font-weight: 500;
    transition: color 0.3s var(--ease-out-cubic), transform 0.2s var(--ease-out-cubic); position: relative;
}
header nav a:hover { color: var(--primary-color); transform: translateY(-2px); }
header nav a::after {
    content: ''; position: absolute; width: 0; height: 2px; bottom: -4px; left: 50%;
    transform: translateX(-50%); background-color: var(--primary-color); transition: width 0.3s var(--ease-out-cubic);
}
header nav a:hover::after { width: 100%; }
#queryCounterDisplay {
    color: var(--primary-color); font-size: 0.9rem; font-weight: 500; margin-left: 1.5rem;
    padding: 0.3rem 0.7rem; background-color: rgba(44, 132, 250, 0.1);
    border: 1px solid rgba(44, 132, 250, 0.3); border-radius: 999px; display: none;
    transition: opacity 0.3s var(--ease-out-cubic);
}

.modal {
    display: flex; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.88);
    z-index: 2000;
    justify-content: center; align-items: center;
    padding: 1rem; box-sizing: border-box; opacity: 0; visibility: hidden;
    transform: scale(0.95);
    transition: opacity 0.3s var(--ease-out-cubic), visibility 0s linear 0.3s, transform 0.3s var(--ease-out-cubic);
}
.modal.is-visible {
    opacity: 1; visibility: visible; transform: scale(1);
    transition: opacity 0.3s var(--ease-out-cubic), visibility 0s linear 0s, transform 0.3s var(--ease-out-cubic);
}
.modal-content {
    background: var(--card-bg);
    padding: 2rem 2.5rem;
    border-radius: 1rem;
    text-align: center;
    max-width: 420px;
    width: 90%;
    position: relative;
    box-shadow: 0 10px 40px rgba(0,0,0,0.4);
    transform: translateY(0);
    display: flex;
    flex-direction: column;
    gap: 1rem;
}
.modal-content h2 {
    font-size: 1.75rem;
    color: var(--primary-color);
    margin-bottom: 0.5rem;
}
.modal-content p {
    font-size: 0.95rem;
    color: var(--text-secondary);
    margin-bottom: 1rem;
    line-height: 1.6;
}
.modal-content input[type="text"],
.modal-content input[type="email"] {
    width: 100%;
    padding: 0.85rem;
    font-size: 0.95rem;
    border-radius: 8px;
    border: 1px solid #333;
    background-color: #222;
    color: var(--text-primary);
    box-sizing: border-box;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}
.modal-content input[type="text"]::placeholder,
.modal-content input[type="email"]::placeholder {
    color: #777;
}
.modal-content input[type="text"]:focus,
.modal-content input[type="email"]:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(44, 132, 250, 0.3);
}
.modal-content .btn-primary {
    width: 100%;
    margin-top: 0.5rem;
}
.modal-close-btn {
    position: absolute;
    top: 0.75rem;
    right: 1rem;
    font-size: 1.75rem;
    color: #888;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.25rem;
    line-height: 1;
    transition: color 0.2s ease;
}
.modal-close-btn:hover {
    color: var(--text-primary);
}

#atlasQuery {
    background-color: #111;
    padding: 3rem 1.5rem;
    border-radius: 1rem;
    margin-top: 4rem;
    position: relative; z-index: 1;
}
#atlasQuery h2 { color: var(--primary-color); font-size: 2rem; margin-bottom: 1rem; }
#atlasQuery p.atlas-subtext { color: var(--text-secondary); font-size: 1.1rem; max-width: 600px; margin-bottom: 1.5rem; }
.example-query-buttons {
    margin-bottom: 2rem; display: flex; flex-wrap: wrap; gap: 0.75rem; justify-content: center;
}
.btn-example-query {
    background: linear-gradient(to right, var(--primary-color), var(--primary-gradient-end));
    background-size: 200% auto; color: white; font-weight: bold; padding: 0.6rem 1.2rem;
    border: none; border-radius: 999px; font-size: 0.9rem; cursor: pointer;
    box-shadow: 0 2px 8px rgba(44, 132, 250, 0.15);
    transition: background-position 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
}
.btn-example-query:hover {
    background-position: right center; color: var(--text-primary);
    transform: translateY(-2px) scale(1.02); box-shadow: 0 4px 12px rgba(44, 132, 250, 0.25);
}
#atlasQueryInput {
    width: 100%; max-width: 600px; padding: 1.1rem; font-size: 1rem; border-radius: 8px;
    border: 1px solid #333; margin-top: 0; background-color: #222; color: var(--text-primary);
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}
#atlasQueryInput::placeholder { color: #777; }
#atlasQueryInput:focus {
    outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(44, 132, 250, 0.3);
}
#atlasQuery .btn-primary { margin-top: 1.5rem; }

#atlasResponse {
    margin-top: 2rem; font-size: 1rem; color: var(--text-secondary); text-align: left;
    background-color: var(--card-bg); padding: 1.5rem; border-radius: 0.5rem;
    border: 1px solid rgba(44, 132, 250, 0.2); display: none; max-width: 600px;
    margin-left: auto; margin-right: auto; line-height: 1.6;
}
#atlasResponse strong { color: var(--primary-color); display: block; margin-bottom: 0.5rem; }
#loadingIndicator { display: none; margin-top: 1rem; color: var(--primary-color); font-size: 1.1rem; }
.pulsing-dots span {
    display: inline-block; width: 10px; height: 10px; margin: 0 3px;
    background-color: var(--primary-color); border-radius: 50%;
    animation: pulse 1.4s infinite var(--ease-out-cubic) both;
}
.pulsing-dots span:nth-child(1) { animation-delay: -0.32s; }
.pulsing-dots span:nth-child(2) { animation-delay: -0.16s; }
@keyframes pulse { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1.0); } }

.scroll-animate { opacity: 0; transform: translateY(30px); transition: opacity 0.6s var(--ease-out-cubic), transform 0.6s var(--ease-out-cubic); }
.scroll-animate.is-visible { opacity: 1; transform: translateY(0); }

.solutions-carousel-container {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 20px;
    margin-top: 1.5rem;
    position: relative;
    z-index: 1;
}
.solutions-carousel {
    display: flex;
    gap: 2rem;
    padding-left: 1rem;
    padding-right: 1rem;
    width: max-content;
}
.carousel-item {
    flex: 0 0 auto;
    width: calc(50% - 2rem);
    max-width: 450px;
    min-width: 300px;
}
.carousel-item.standalone {
    width: calc(50% - 2rem);
    max-width: 450px;
}
.solutions-carousel-container::-webkit-scrollbar {
    height: 10px;
}
.solutions-carousel-container::-webkit-scrollbar-track {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 5px;
}
.solutions-carousel-container::-webkit-scrollbar-thumb {
    background-color: var(--primary-color);
    border-radius: 5px;
    border: 2px solid rgba(255, 255, 255, 0.1);
}
.solutions-carousel-container::-webkit-scrollbar-thumb:hover {
    background-color: var(--primary-gradient-end);
}
.solutions-carousel-container {
    scrollbar-color: var(--primary-color) rgba(255, 255, 255, 0.1);
    scrollbar-width: thin;
}

/* STYLES FOR THE INJECTED COMPARISON TABLE SECTION */
#comparisonTableSection {
    font-family: 'Inter', sans-serif; /* Apply Inter font to this section */
    background-color: var(--dark-bg); /* Match main page background for the section wrapper */
    padding-top: 4rem; /* Add some spacing above the table section */
    padding-bottom: 4rem; /* Add some spacing below the table section */
}

#comparisonTableSection .comparison-title { /* Changed from h1 to h2, so new class for styling */
    text-align: center;
    font-size: 2.5rem; /* Original size from comparison table h1 */
    margin-bottom: 0.5rem;
    animation: fadeInDown 1s ease-out;
    color: #ffffff; /* Original color */
    font-weight: 700; /* Ensure it's bold like typical headings */
}

#comparisonTableSection .comparison-subtitle { /* New class for the paragraph under the title */
    text-align: center;
    color: #a1a1aa; /* Original color */
    font-size: 1rem; /* Original size */
    margin-bottom: 3rem; /* Original margin */
    animation: fadeInDown 1.5s ease-out;
    max-width: 700px; /* Consistent with other paragraphs */
    margin-left: auto;
    margin-right: auto;
}

#comparisonTableSection .table-scroll {
    overflow-x: auto;
    border-radius: 16px;
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2); /* Slightly reduced shadow for better blend */
    animation: fadeInUp 2s ease-out;
    /* Ensure it doesn't exceed container width if not needed, but overflow-x handles content */
    max-width: 100%; 
}

#comparisonTableSection table {
    width: 100%;
    min-width: 1000px; /* Adjusted min-width slightly for responsiveness within container */
    border-collapse: separate;
    border-spacing: 0;
    background-color: rgba(26, 26, 26, 0.85); /* Using var(--card-bg) with opacity for consistency */
    color: #e4e4e7;
    border-radius: 16px;
    overflow: hidden; /* Important for border-radius on table */
}

#comparisonTableSection th, 
#comparisonTableSection td {
    padding: 1.5rem 1.2rem;
    border-bottom: 1px solid #2d3140; /* var(--border-color) could be used here too */
    text-align: left;
    vertical-align: middle; /* Ensure vertical alignment */
}

#comparisonTableSection th {
    background-color: rgba(30, 41, 59, 0.8);
    font-size: 1.1rem;
    font-weight: 700;
    color: #ffffff;
}

#comparisonTableSection td {
    font-size: 1rem;
}

#comparisonTableSection .logo { /* Scoped logo style */
    width: 150px; /* Slightly reduced for better fit in table header */
    height: 150px;
    display: block;
    margin: 0 auto;
    object-fit: contain;
    transition: transform 0.3s;
    filter: drop-shadow(0 0 8px rgba(0, 255, 255, 0.15)); /* Adjusted shadow */
}

#comparisonTableSection .logo:hover {
    transform: scale(1.05); /* Slightly reduced hover scale */
}

#comparisonTableSection .highlight {
    font-weight: 700;
    color: var(--primary-color); /* Use primary color for highlight */
}

#comparisonTableSection td i {
    margin-right: 0.5rem;
    color: #60a5fa; /* var(--primary-color) could be used */
    width: 20px; /* Ensure icons have some space */
    text-align: center;
}

#comparisonTableSection tr:hover {
    background-color: rgba(44, 132, 250, 0.1); /* Use primary color with low opacity for hover */
}

/* Keyframes are defined once globally, no need to repeat */
@keyframes fadeInDown { /* Already defined above, but ensure it's present */
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeInUp { /* Already defined above, but ensure it's present */
    from { opacity: 0; transform: translateY(40px); }
    to { opacity: 1; transform: translateY(0); }
}
/* END OF STYLES FOR COMPARISON TABLE */


footer {
    background-color: #111;
    padding: 2.5rem 0.5rem; /* MODIFIED: Reduced horizontal padding for footer content */
    text-align: center;
    color: #b0b0b0; /* MODIFIED: Made footer text whiter (was #888) */
    font-size: 0.9rem; margin-top: 4rem; border-top: 1px solid #222;
    position: relative; z-index: 1;
}

/* Responsive adjustments */
@media (max-width: 992px) {
    header nav { gap: 1rem; }
    #queryCounterDisplay { margin-left: 1rem; font-size: 0.8rem; padding: 0.2rem 0.5rem;}
    .simple-feature-section h3 { font-size: 1.6rem; }
    .simple-feature-section .feature-hero-image { max-height: 280px; }
    .solutions-title { font-size: 2.4rem; margin-top: 4rem; margin-bottom: 1.5rem;}
    .carousel-item, .carousel-item.standalone {
        width: calc(60% - 1rem);
        max-width: 400px;
        min-width: 280px;
    }
    #comparisonTableSection table { min-width: 800px; } /* Adjust table min-width for tablets */
    #comparisonTableSection .logo { width: 120px; height: 120px; }
}

@media (max-width: 768px) {
    h1 { font-size: 2.5rem; }
    h2 { font-size: 1.75rem; }
    .simple-feature-section h3 { font-size: 1.5rem; }
    #atlasQuery h2 { font-size: 1.75rem; }
    .hero-content { padding-top: 120px; }
    header {
        padding: 0.75rem 1rem 0.75rem 0.5rem; /* MODIFIED: Reduced left padding for tablet */
        flex-direction: column; align-items: flex-start;
    }
    header img.logo { margin-bottom: 0.5rem; }
    header nav { width: 100%; justify-content: space-between; }
    #queryCounterDisplay { margin-top: 0.5rem; align-self: flex-start; margin-left: 0; }
    .simple-feature-section:not(.carousel-item) {
        margin-top: 2rem; flex-basis: auto; max-width: 100%;
    }
     .simple-feature-section.standalone:not(.carousel-item) {
        margin-top: 2rem; max-width: 100%;
    }
    .simple-feature-section .feature-hero-image { max-height: 220px; }
    .solutions-title { font-size: 2rem; }
    .carousel-item, .carousel-item.standalone {
        width: calc(80% - 1rem);
        max-width: 350px;
        min-width: 250px;
    }
    .solutions-carousel { padding-left: 0.5rem; padding-right: 0.5rem; gap: 1rem; }
    .solutions-carousel-container { margin-top: 1rem; }

    #comparisonTableSection .comparison-title { font-size: 2rem; }
    #comparisonTableSection table { min-width: 600px; } /* Adjust table min-width for smaller tablets */
    #comparisonTableSection th, #comparisonTableSection td { padding: 1rem 0.8rem; }
    #comparisonTableSection .logo { width: 100px; height: 100px; }
}

@media (max-width: 480px) {
    header nav { flex-direction: column; align-items: flex-start; gap: 0.5rem; }
    header nav a { width: 100%; text-align: left; }
    header nav a::after { left: 0; transform: translateX(0); }
    header { /* MODIFIED: Reduced left padding for mobile */
        padding: 0.75rem 1rem 0.75rem 0.25rem;
    }
    .container { padding: 2rem 1rem; }
    #atlasQuery { padding: 1.5rem 1rem; }
    .simple-feature-section { padding: 1.5rem 1rem; }
    .simple-feature-section:not(.carousel-item) { margin-top: 2.5rem; }
    .simple-feature-section h3 { font-size: 1.4rem; }
    .simple-feature-section p { font-size: 0.9rem; }
    .simple-feature-section .feature-hero-image { max-height: 180px; margin-bottom: 1.5rem; }
    .simple-feature-section .btn-primary { padding: 0.7rem 1.5rem; font-size: 0.85rem; }
    .solutions-title { font-size: 1.8rem; }
    .carousel-item, .carousel-item.standalone {
        width: calc(90% - 0.5rem);
        max-width: 90%;
        min-width: 220px;
    }
    .solutions-carousel { padding-left: 0.25rem; padding-right: 0.25rem; gap: 0.75rem; }

    #comparisonTableSection .comparison-title { font-size: 1.8rem; }
    #comparisonTableSection .comparison-subtitle { font-size: 0.9rem; margin-bottom: 2rem;}
    #comparisonTableSection table { min-width: 100%; } /* Allow table to be as small as container */
    #comparisonTableSection th, #comparisonTableSection td { padding: 0.8rem 0.5rem; font-size: 0.9rem;}
    #comparisonTableSection .logo { width: 80px; height: 80px; }
    #comparisonTableSection td i { margin-right: 0.3rem; width: 16px; }
}

</style>
</head>
<body>

<canvas id="particles-js"></canvas>

<header>
    <img src="https://i.imgur.com/s8XQvEv.png" alt="UNI Logo" class="logo">
    <nav>
        <a href="#atlasQuery">Try it Out</a>
        <a href="https://form.typeform.com/to/DdElG5zV" target="_blank">Sign Up</a>
        <a href="#how-it-works">How it works</a>
        <span id="queryCounterDisplay">Free Queries Left: 5/5</span>
    </nav>
</header>

<div class="container"> <div class="hero-content">
        <h1 id="mainHeadline" class="scroll-animate">Where Culture Becomes Data</h1>
        <h2 style="color: var(--text-primary);" class="scroll-animate"></h2>
    </div>
    <p class="scroll-animate">Plug directly into the behaviors, rituals, and hotspots driving real-world culture — before the rest of the internet catches up.</p>
    <a href="https://form.typeform.com/to/DdElG5zV" target="_blank" class="btn-primary hero-btn scroll-animate">Get started</a>

    <section class="trusted-by-section scroll-animate">
        <div class="container" style="padding-top:0; padding-bottom:0;">
            <h2>Trusted by innovators like</h2>
            <div class="trusted-logos-container">
                <img src="https://i.imgur.com/8NqJx5D.png" alt="WUSA9 Logo" onerror="this.onerror=null;this.src='https://placehold.co/150x56/0d0d0d/cccccc?text=WUSA9';">
                <img id="logo-prominent-partner" src="https://i.imgur.com/Lg1Uskv.png" alt="New Partner Logo" onerror="this.onerror=null;this.src='https://placehold.co/220x88/0d0d0d/cccccc?text=New+Partner';">
                <img id="logo-openai-custom" src="https://i.imgur.com/WvUuf0j.png" alt="Interscope Records Logo" onerror="this.onerror=null;this.src='https://placehold.co/150x70/0d0d0d/cccccc?text=Interscope';">
                <img src="https://i.imgur.com/11lWIdv.png" alt="New Partner Logo" onerror="this.onerror=null;this.src='https://placehold.co/150x56/0d0d0d/cccccc?text=New+Partner';">
            </div>
        </div>
    </section>

    <div id="atlasQuery" class="container scroll-animate"> <h2>Ask UNI ATLAS</h2>
        <p class="atlas-subtext">Try an example or type your own question below.</p>
        <div class="example-query-buttons">
            <button class="btn-example-query" onclick="showExampleInsight(exampleQueries[0].query, exampleQueries[0].insight)">What are Gen Z's top going-out preferences?</button>
            <button class="btn-example-query" onclick="showExampleInsight(exampleQueries[1].query, exampleQueries[1].insight)">Popular weekend activities for young professionals?</button>
            <button class="btn-example-query" onclick="showExampleInsight(exampleQueries[2].query, exampleQueries[2].insight)">Emerging nightlife trends in urban areas?</button>
        </div>
        <input id="atlasQueryInput" type="text" placeholder="Ask a question or try an example above...">
        <div id="loadingIndicator"><div class="pulsing-dots"><span></span><span></span><span></span></div></div>
        <button onclick="handleAtlasQuery()" class="btn-primary">
            <img src="https://i.imgur.com/s8XQvEv.png" alt="UNI Icon" style="filter: brightness(0) invert(1); width:20px; height:20px;"> Ask Atlas
        </button>
        <div id="atlasResponse"></div>
    </div>

    <!-- HOW IT WORKS SECTION -->
<!-- HOW IT WORKS SECTION -->
<section style="background: transparent; color: white; padding: 4rem 2rem; font-family: 'Inter', sans-serif;">
  <div style="max-width: 1200px; margin: auto; text-align: center;">
    <h2 style="font-size: 2.75rem; margin-bottom: 1rem; animation: fadeInDown 1s ease-out;">How It Works</h2>
    <p style="font-size: 1.1rem; color: #cbd5e1; margin-bottom: 3rem; animation: fadeInDown 1.3s ease-out;">
      UNI turns real-life movement into real-time data. Here’s how our insight engine captures culture as it happens:
    </p>

    <div style="display: flex; flex-direction: column; align-items: center; position: relative; animation: fadeInUp 1.5s ease-out;">
      <div style="flex: 1; background: rgba(0,0,0,0.6); border-radius: 16px; padding: 2rem; border: 1px solid #3b82f6; box-shadow: 0 0 20px rgba(59,130,246,0.35); width: 100%; max-width: 500px; margin-bottom: 3rem; position: relative;">
        <div style="font-size: 2.5rem; color: #3b82f6; margin-bottom: 1rem;">
          <svg width="48" height="48" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
        </div>
        <h3 style="font-size: 1.25rem; margin-bottom: 0.5rem;">Behavioral Profiles</h3>
        <p style="color: #94a3b8;">Users onboard with their interests, favorite artists, schools, go-to spots, and social energy — building a full lifestyle fingerprint.</p>
        <div class="down-arrow"></div>
      </div>

      <div style="flex: 1; background: rgba(0,0,0,0.6); border-radius: 16px; padding: 2rem; border: 1px solid #3b82f6; box-shadow: 0 0 20px rgba(59,130,246,0.35); width: 100%; max-width: 500px; margin-bottom: 3rem; position: relative;">
        <div style="font-size: 2.5rem; color: #3b82f6; margin-bottom: 1rem;">
          <svg width="48" height="48" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M3 3v18h18"/><path d="M9 17l3-3 3 3"/><path d="M9 13h6"/></svg>
        </div>
        <h3 style="font-size: 1.25rem; margin-bottom: 0.5rem;">Live Map Signals</h3>
        <p style="color: #94a3b8;">Every RSVP, swipe, check-in, and search gets encrypted and mapped — showing not just where users are, but what they’re craving.</p>
        <div class="down-arrow"></div>
      </div>

      <div style="flex: 1; background: rgba(0,0,0,0.6); border-radius: 16px; padding: 2rem; border: 1px solid #3b82f6; box-shadow: 0 0 20px rgba(59,130,246,0.35); width: 100%; max-width: 500px;">
        <div style="font-size: 2.5rem; color: #3b82f6; margin-bottom: 1rem;">
          <svg width="48" height="48" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M20 6L9 17l-5-5"/></svg>
        </div>
        <h3 style="font-size: 1.25rem; margin-bottom: 0.5rem;">UNI Atlas AI</h3>
        <p style="color: #94a3b8;">Our proprietary intelligence engine distills these movements into cultural trend forecasts and hyperlocal targeting blueprints.</p>
      </div>
    </div>
  </div>
</section>

<style>
@keyframes fadeInDown {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}
.down-arrow {
  position: absolute;
  bottom: -24px;
  left: 50%;
  transform: translateX(-50%);
  width: 24px;
  height: 24px;
  background-color: transparent;
  border-left: 3px solid #3b82f6;
  border-bottom: 3px solid #3b82f6;
  transform: translateX(-50%) rotate(-45deg);
}
</style>

    </div>
  </div>
</section>

<!-- ANIMATIONS -->
<style>
@keyframes fadeInDown {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>


    <section id="comparisonTableSection" class="container scroll-animate">
        <h2 class="comparison-title">Social Intelligence Showdown</h2>
        <p class="comparison-subtitle">How UNI's real-world insight compares to legacy tools</p>
        <div class="table-scroll">
            <table>
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th><img src="https://i.imgur.com/orKCxuA.png" class="logo" alt="Google Trends"></th>
                        <th><img src="https://i.imgur.com/L68Ovje.png" class="logo" alt="Meta & TikTok Ads"></th>
                        <th><img src="https://i.imgur.com/li65jaI.png" class="logo" alt="Social DNA by UNI"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><i class="fas fa-brain"></i> What It Captures</td>
                        <td>Search interest only</td>
                        <td>Ad impressions & click-through rates</td>
                        <td class="highlight">Live, social behavior across places, people & interests</td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-bullseye"></i> Intent Signal</td>
                        <td>Curiosity or passive search</td>
                        <td>Scroll behavior, view time</td>
                        <td class="highlight">RSVPs, saves, check-ins, swipes — true intent</td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-users"></i> Demographics</td>
                        <td>None</td>
                        <td>Cookie-based, inferred targeting</td>
                        <td class="highlight">Rich profiles: age, school, interests, vibes</td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-clock"></i> Timeliness</td>
                        <td>Delayed and aggregated</td>
                        <td>Data lags, episodic delivery</td>
                        <td class="highlight">Real-time & adaptive to behavior</td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-network-wired"></i> Social Graph</td>
                        <td>None</td>
                        <td>None</td>
                        <td class="highlight">Compatibility engine with friend & match layer</td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-layer-group"></i> Behavioral Depth</td>
                        <td>"What are they Googling?"</td>
                        <td>"Who might engage?"</td>
                        <td class="highlight">"What are they doing, where, when — and with who?"</td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-chart-line"></i> Predictive Power</td>
                        <td>Low</td>
                        <td>Reactive metrics</td>
                        <td class="highlight">Forecasting trends before they happen</td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-database"></i> Output</td>
                        <td>Charts, search volume</td>
                        <td>CPM, CTR, CPC dashboards</td>
                        <td class="highlight">Heatmaps, dynamic targeting, cultural forecasting</td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-rocket"></i> Use Case</td>
                        <td>SEO, macro trend guessing</td>
                        <td>Digital ad performance</td>
                        <td class="highlight">Hyper-local, culture-first brand strategy</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>
    <h2 class="solutions-title scroll-animate">Our Solutions</h2>
    <div class="solutions-carousel-container scroll-animate">
        <div class="solutions-carousel">
            <section class="simple-feature-section carousel-item">
                <h3>Connective Advertising</h3>
                <img src="https://i.imgur.com/E7AamNJ.png"
                     alt="Connective Advertising" class="feature-hero-image"
                     onerror="this.onerror=null;this.src='https://placehold.co/500x320/101113/cccccc?text=Image+Error';">
                <p>With UNI, your brand appears at the center of discovery: on maps, in curated feeds, and inside reward campaigns, all customized for your exact audience.</p>
                <button class="btn-primary">Explore Advertising</button>
            </section>

            <section class="simple-feature-section carousel-item">
                <h3>Insights</h3>
                <img src="https://i.imgur.com/Rsg2omo.png"
                     alt="UNI Insights Visual" class="feature-hero-image"
                     onerror="this.onerror=null;this.src='https://placehold.co/500x320/101113/cccccc?text=Insights+Image+Error';">
                <p>Harness the behavioral pulse of the culture. Real-time dashboards powered by our AI show you the when, where, and why behind your audience.</p>
                <button class="btn-primary">Discover Insights</button>
            </section>

            <section class="simple-feature-section carousel-item standalone"> <h3>Audience Sync</h3>
                <img src="https://i.imgur.com/PgBi8c6.png"
                     alt="Audience Sync" class="feature-hero-image"
                     onerror="this.onerror=null;this.src='https://placehold.co/700x320/101113/cccccc?text=Image+Error';">
                <p>Export hyper-specific segments into Meta, TikTok, or email pipelines for retargeting that feels native, not noisy.</p>
                <button class="btn-primary">Sync Audiences</button>
            </section>
        </div>
    </div>
    <div class="scroll-animate" style="margin-top: 4rem; position: relative; z-index: 1;">
        <h2 style="color: var(--primary-color); font-size: 1.75rem;">Set Up an Inquiry Request</h2>
        <p style="color: var(--text-secondary); font-size: 1.125rem; max-width: 700px; margin: 0 auto 2rem;">Want to work with UNI or learn more about our enterprise offerings? Click below to set up a custom inquiry.</p>
        <a href="https://form.typeform.com/to/DdElG5zV" target="_blank" class="btn-primary scroll-animate" style="background-color: var(--primary-color); background-image: none;">Submit Inquiry</a>
    </div>
</div> <footer>
    <p>For business inquiries, email us at <a href="mailto:bizinquiries@gouni.co">bizinquiries@gouni.co</a></p>
    <p>© 2025 UNI Technologies. All rights reserved.</p>
</footer>

<div id="loginModal" class="modal">
    <div class="modal-content">
        <button class="modal-close-btn" onclick="closeModal('loginModal')">&times;</button>
        <h2>Sign Up to Access Atlas</h2>
        <p>A few details to get you started with UNI Atlas insights. You'll get 5 free queries!</p>
        <input type="text" id="userName" placeholder="Your Name">
        <input type="email" id="userEmail" placeholder="Email">
        <button onclick="completeLogin()" class="btn-primary" style="background-color:var(--primary-color); background-image:none; width:100%;">Get Started</button>
    </div>
</div>

<div id="upgradeModal" class="modal">
    <div class="modal-content">
        <button class="modal-close-btn" onclick="closeModal('upgradeModal')">&times;</button>
        <h2>You've used your 5 free queries!</h2>
        <p>To continue using UNI Atlas and unlock unlimited searches for real-time insight reports, please contact our sales team to discuss plan options.</p>
        <a href="https://form.typeform.com/to/DdElG5zV" target="_blank" class="btn-primary" style="background-color:var(--primary-color); background-image:none; width:100%; margin-bottom: 0.5rem; display: block; box-sizing: border-box;">Contact Sales</a>
        <button onclick="closeModal('upgradeModal')" class="btn-primary" style="background-color:transparent; border: 1px solid var(--primary-color); color: var(--primary-color); width:100%;">Maybe Later</button>
    </div>
</div>

<script>
    // Particle Animation Script (self-contained and uses its own canvas)
    const particlesJsCanvas = document.getElementById('particles-js');
    if (particlesJsCanvas) {
        const ctxParticles = particlesJsCanvas.getContext('2d'); // Use a different context variable name
        let particlesArray;

        // Particle class
        class Particle {
            constructor(x, y, directionX, directionY, size, color) {
                this.x = x;
                this.y = y;
                this.directionX = directionX;
                this.directionY = directionY;
                this.size = size;
                this.color = color;
            }
            draw() {
                ctxParticles.beginPath();
                ctxParticles.arc(this.x, this.y, this.size, 0, Math.PI * 2, false);
                ctxParticles.fillStyle = this.color;
                ctxParticles.fill();
            }
            update() {
                if (this.x > particlesJsCanvas.width || this.x < 0) {
                    this.directionX = -this.directionX;
                }
                if (this.y > particlesJsCanvas.height || this.y < 0) {
                    this.directionY = -this.directionY;
                }
                this.x += this.directionX;
                this.y += this.directionY;
                this.draw();
            }
        }

        function initParticles() {
            particlesArray = [];
            particlesJsCanvas.width = window.innerWidth; // Set canvas dimensions
            particlesJsCanvas.height = window.innerHeight;
            let numberOfParticles = (particlesJsCanvas.height * particlesJsCanvas.width) / 9000;
            if (numberOfParticles > 120) numberOfParticles = 120; // Cap particles
            for (let i = 0; i < numberOfParticles; i++) {
                let size = (Math.random() * 2) + 0.5;
                let x = (Math.random() * ((innerWidth - size * 2) - (size * 2)) + size * 2);
                let y = (Math.random() * ((innerHeight - size * 2) - (size * 2)) + size * 2);
                let directionX = (Math.random() * .4) - .2;
                let directionY = (Math.random() * .4) - .2;
                let color = 'rgba(175,175,175,0.3)';
                particlesArray.push(new Particle(x, y, directionX, directionY, size, color));
            }
        }

        function animateParticles() {
            requestAnimationFrame(animateParticles);
            ctxParticles.clearRect(0, 0, innerWidth, innerHeight);
            for (let i = 0; i < particlesArray.length; i++) {
                particlesArray[i].update();
            }
            connectParticles();
        }

        function connectParticles() {
            let opacityValue = 1;
            for (let a = 0; a < particlesArray.length; a++) {
                for (let b = a; b < particlesArray.length; b++) {
                    let distance = ((particlesArray[a].x - particlesArray[b].x) * (particlesArray[a].x - particlesArray[b].x)) +
                                   ((particlesArray[a].y - particlesArray[b].y) * (particlesArray[a].y - particlesArray[b].y));
                    if (distance < (particlesJsCanvas.width / 7) * (particlesJsCanvas.height / 7)) {
                        opacityValue = 1 - (distance / 20000);
                        if (opacityValue < 0) opacityValue = 0;
                        if (opacityValue > 0.25) opacityValue = 0.25;
                        ctxParticles.strokeStyle = 'rgba(100,100,150,' + opacityValue + ')';
                        ctxParticles.lineWidth = 0.7;
                        ctxParticles.beginPath();
                        ctxParticles.moveTo(particlesArray[a].x, particlesArray[a].y);
                        ctxParticles.lineTo(particlesArray[b].x, particlesArray[b].y);
                        ctxParticles.stroke();
                    }
                }
            }
        }

        window.addEventListener('resize', () => {
            initParticles(); // Re-initialize particles on resize
        });

        initParticles(); // Initial setup
        animateParticles(); // Start animation
    }


    // --- Page Script for Modals, Atlas Query, Animations, and Slot Machine ---
    const mainHeadlineEl = document.getElementById('mainHeadline');
    // Other element selectors
    const loginModalEl = document.getElementById('loginModal');
    const upgradeModalEl = document.getElementById('upgradeModal');
    const atlasQueryInputEl = document.getElementById('atlasQueryInput');
    const atlasResponseDivEl = document.getElementById('atlasResponse');
    const loadingIndicatorEl = document.getElementById('loadingIndicator');
    const queryCounterDisplayEl = document.getElementById('queryCounterDisplay');
    const heroContentEl = document.querySelector('.hero-content');


    let isLoggedIn = false;
    let freeQueriesUsed = 0;
    const queryLimit = 5;

    const exampleQueries = [
        { query: "What are Gen Z's top going-out preferences?", insight: "Gen Z is increasingly drawn to interactive, social-first venues like immersive popups, live DJ cafes, and content-worthy locations that offer unique experiences. They prioritize authenticity and shareable moments." },
        { query: "Popular weekend activities for young professionals?", insight: "Young professionals often seek a balance of social engagement and relaxation. Popular activities include brunch spots, boutique fitness classes, local markets, and live music events that offer networking or unique experiences." },
        { query: "Emerging nightlife trends in urban areas?", insight: "Key nightlife trends include the rise of themed bars, speakeasies with craft cocktails, venues offering competitive socializing (e.g., axe throwing, retro arcade games), and a growing demand for late-night cafes and non-alcoholic social spaces." }
    ];

    function updateQueryCounterDisplay() {
        if (isLoggedIn && queryCounterDisplayEl) {
            queryCounterDisplayEl.textContent = `Free Queries Left: ${queryLimit - freeQueriesUsed}/${queryLimit}`;
            queryCounterDisplayEl.style.display = 'inline-block';
            queryCounterDisplayEl.style.opacity = '1';
        } else if (queryCounterDisplayEl) {
            queryCounterDisplayEl.style.opacity = '0';
            setTimeout(() => {
                if(!isLoggedIn) queryCounterDisplayEl.style.display = 'none';
            }, 300);
        }
    }

    function openModal(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) {
            requestAnimationFrame(() => { // Use rAF for smoother transition start
                modal.classList.add('is-visible');
            });
        }
    }

    function closeModal(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) {
            modal.classList.remove('is-visible');
        }
    }

    function completeLogin() {
        isLoggedIn = true;
        freeQueriesUsed = 0;
        updateQueryCounterDisplay();
        closeModal('loginModal');
        if(atlasQueryInputEl && atlasQueryInputEl.value.trim() && !exampleQueries.some(ex => ex.query === atlasQueryInputEl.value.trim())){
            handleAtlasQuery();
        }
    }

    function showExampleInsight(queryText, insightText) {
        if (atlasQueryInputEl) atlasQueryInputEl.value = queryText;
        if (atlasResponseDivEl) {
            atlasResponseDivEl.innerHTML = `<strong>UNI Atlas Insight:</strong> ${insightText}`;
            atlasResponseDivEl.style.display = 'block';
        }
        if (loadingIndicatorEl) loadingIndicatorEl.style.display = 'none';
        if (atlasResponseDivEl) atlasResponseDivEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    async function handleAtlasQuery() {
        if (!atlasQueryInputEl || !atlasResponseDivEl || !loadingIndicatorEl) return; // Guard clause

        const userQuery = atlasQueryInputEl.value.trim();
        if (!userQuery) {
            atlasResponseDivEl.style.display = 'block';
            atlasResponseDivEl.innerHTML = '<strong>Insight:</strong> Please enter a question to ask Atlas, or try an example.';
            loadingIndicatorEl.style.display = 'none';
            return;
        }
        if (exampleQueries.some(ex => ex.query === userQuery)) {
            const example = exampleQueries.find(ex => ex.query === userQuery);
            if (example) { showExampleInsight(example.query, example.insight); return; }
        }
        if (!isLoggedIn) { openModal('loginModal'); return; }
        if (freeQueriesUsed >= queryLimit) { openModal('upgradeModal'); loadingIndicatorEl.style.display = 'none'; return; }

        loadingIndicatorEl.style.display = 'block';
        atlasResponseDivEl.style.display = 'none';

        const apiKey = "AIzaSyDfgyyndjfGNBgAY6OIXnYgURK4I_iZ90A"; // If you want to use models other than gemini-2.0-flash or imagen-3.0-generate-002, provide an API key here. Otherwise, leave this as-is.
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
        const prompt = `Directly provide a concise insight as UNI Atlas for the query: "${userQuery}". Focus on social behaviors, preferences, or cultural trends. Do not include any conversational preamble or leading phrases like "Okay, here's the insight:". Begin the response with the insight itself.`;
        
        let chatHistory = [];
        chatHistory.push({ role: "user", parts: [{ text: prompt }] });
        const payload = { contents: chatHistory };

        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            if (!response.ok) {
                const errorData = await response.json();
                throw new Error(`API error: ${response.status} ${response.statusText}. Details: ${JSON.stringify(errorData.error?.message || errorData)}`);
            }
            const result = await response.json();
            let generatedText = "Sorry, I couldn't generate an insight for that query right now. Please try a different question.";
            if (result.candidates && result.candidates.length > 0 &&
                result.candidates[0].content && result.candidates[0].content.parts &&
                result.candidates[0].content.parts.length > 0) {
                generatedText = result.candidates[0].content.parts[0].text.replace(/\*/g, '').trim();
            }
            atlasResponseDivEl.style.display = 'block';
            atlasResponseDivEl.innerHTML = `<strong>UNI Atlas Insight:</strong> ${generatedText.replace(/\n/g, '<br>')}`;
            freeQueriesUsed++;
            updateQueryCounterDisplay();
        } catch (error) {
            console.error("Error fetching Atlas response from Gemini:", error);
            atlasResponseDivEl.style.display = 'block';
            atlasResponseDivEl.innerHTML = `<strong>Error:</strong> Could not retrieve insight. ${error.message}. Please try again later.`;
        } finally {
            loadingIndicatorEl.style.display = 'none';
            atlasResponseDivEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    }

    function animateOriginalHeadlineLetters() {
        if (!mainHeadlineEl) return;
        const text = mainHeadlineEl.textContent || ""; // Ensure text is not null
        const words = text.split(' ');
        const wordToAnimate = "Data"; // The word that will be replaced by the slot machine

        mainHeadlineEl.innerHTML = ''; // Clear current content

        words.forEach((word, wordIndex) => {
            if (word === wordToAnimate && wordIndex === words.length -1) { // Check if it's the target word "Data" and it's the last word
                // The slot machine will be inserted here by initDataSlotMachine
            } else {
                word.split('').forEach((char, charIndex) => {
                    const span = document.createElement('span');
                    span.className = 'letter-span'; // Add class for styling
                    span.textContent = char === ' ' ? '\u00A0' : char;
                    // Calculate delay: sum of previous words lengths + current char index in word
                    let delayBase = 0;
                    for(let i=0; i < wordIndex; i++){
                        delayBase += words[i].length + 1; // +1 for space
                    }
                    delayBase += charIndex;
                    span.style.animationDelay = `${delayBase * 0.05}s`;
                    mainHeadlineEl.appendChild(span);
                });
            }
            if (wordIndex < words.length - 1) { // Add space if not the last word
                const spaceSpan = document.createElement('span');
                spaceSpan.innerHTML = '&nbsp;'; // Non-breaking space
                // Apply animation to space as well if desired, or just append
                let delayBase = 0;
                for(let i=0; i <= wordIndex; i++){
                    delayBase += words[i].length + (i < wordIndex ? 1: 0) ;
                }
                spaceSpan.className = 'letter-span';
                spaceSpan.style.animationDelay = `${delayBase * 0.05}s`;
                mainHeadlineEl.appendChild(spaceSpan);
            }
        });
        mainHeadlineEl.classList.add('animated-headline');
    }


    function initDataSlotMachine() {
        if (!mainHeadlineEl) {
            console.error("Slot Machine: Main headline element 'mainHeadline' not found.");
            return;
        }

        const originalTextContent = "Where Culture Becomes Data"; // Full original text
        const textBeforeSlot = "Where Culture Becomes ";
        const phrases = ["Data", "Social DNA", "Lifestyle Insights"];

        // Create the slot machine HTML structure
        const slotWrapper = document.createElement('span');
        slotWrapper.className = 'slot-text-wrapper';

        const slotInnerContainer = document.createElement('span');
        slotInnerContainer.className = 'slot-text-inner-container';
        slotWrapper.appendChild(slotInnerContainer);

        phrases.forEach(phraseText => {
            const div = document.createElement('div');
            div.textContent = phraseText;
            slotInnerContainer.appendChild(div);
        });

        // Append the slot machine wrapper to the main headline element
        // This assumes animateOriginalHeadlineLetters has already prepared the spans for "Where Culture Becomes "
        mainHeadlineEl.appendChild(slotWrapper);

        // Apply an initial reveal animation to the slotWrapper
        const prefixTextLength = textBeforeSlot.length;
        const slotAnimationDelay = prefixTextLength * 0.05; // Calculate delay based on original animation
        slotWrapper.style.animation = `revealLetter 0.8s var(--ease-out-cubic) forwards ${slotAnimationDelay}s`;

        let currentIndex = 0;
        setInterval(() => {
            currentIndex = (currentIndex + 1) % phrases.length;
            slotInnerContainer.style.transform = `translateY(${currentIndex * -1.2}em)`;
        }, 3000); // Change word every 3 seconds
    }


    function handleMouseMoveTilt(e) {
        if (!heroContentEl) return;
        const { clientX, clientY } = e;
        // Get dimensions and position of heroContentEl relative to viewport
        const rect = heroContentEl.getBoundingClientRect();
        const elCenterX = rect.left + rect.width / 2;
        const elCenterY = rect.top + rect.height / 2;

        const xRotation = ((clientY - elCenterY) / (rect.height / 2)) * 5; // Max rotation 5deg
        const yRotation = -((clientX - elCenterX) / (rect.width / 2)) * 5; // Max rotation 5deg

        heroContentEl.style.transform = `perspective(1000px) rotateX(${xRotation * 0.2}deg) rotateY(${yRotation * 0.2}deg) scale(1.01)`;
    }

    function resetTilt() {
        if (heroContentEl) {
            heroContentEl.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)`;
        }
    }

    // Event listener for mouse move on the whole document for tilt effect
    // MODIFIED: Commented out to disable tilt effect
    /*
    if (heroContentEl) {
        document.addEventListener('mousemove', handleMouseMoveTilt);
        heroContentEl.addEventListener('mouseleave', resetTilt); // Reset when mouse leaves the element
    }
    */

    // Close modal if clicking outside of modal-content
    window.onclick = function(event) {
        if (event.target.classList.contains('modal')) {
            event.target.classList.remove('is-visible');
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        animateOriginalHeadlineLetters(); // Animate "Where Culture Becomes "
        initDataSlotMachine();        // Initialize and append the slot machine for "Data"

        const scrollElements = document.querySelectorAll('.scroll-animate');
        const trustedLogosContainer = document.querySelector('.trusted-logos-container');

        const observerCallback = (entries, observerInstance) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    if (entry.target === trustedLogosContainer) {
                        const logos = trustedLogosContainer.querySelectorAll('img');
                        logos.forEach((logo, index) => {
                            logo.style.transition = `opacity 0.4s var(--ease-out-cubic) ${index * 0.1 + 0.1}s, transform 0.4s var(--ease-out-cubic) ${index * 0.1 + 0.1}s`;
                            logo.style.opacity = '1';
                            logo.style.transform = 'translateY(0)';
                        });
                        observerInstance.unobserve(entry.target);
                    } else if (!entry.target.closest('.trusted-logos-container img')) { // Avoid unobserving individual logos if they were targeted
                        observerInstance.unobserve(entry.target);
                    }
                }
            });
        };

        if ("IntersectionObserver" in window) {
            let observer = new IntersectionObserver(observerCallback, { threshold: 0.1 });
            scrollElements.forEach(el => {
                 // Observe all .scroll-animate elements including trustedLogosContainer itself
                observer.observe(el);
            });
        } else { // Fallback for older browsers
            scrollElements.forEach((el, index) => {
                setTimeout(() => el.classList.add('is-visible'), index * 100);
            });
            if (trustedLogosContainer) {
                const logos = trustedLogosContainer.querySelectorAll('img');
                logos.forEach((logo, index) => {
                    setTimeout(() => {
                        logo.style.opacity = '1';
                        logo.style.transform = 'translateY(0)';
                    }, 300 + index * 100);
                });
            }
        }
        updateQueryCounterDisplay();
    });

</script>
</body>
</html>
